<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>fay0n</title>

<link rel="stylesheet" href="/assets/css/w3.css">
<link rel="stylesheet" href="/assets/css/w3-theme-black.css">
<link rel="stylesheet" href="/assets/css/font-awesome.min.css">
<link rel="stylesheet" href="/assets/css/style.css">

<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">

<style type="text/css">
  .w3-user-toggle {
    background: rgba(0,0,0,0.05);
    box-shadow: 0 1px 5px rgba(0,0,0,0.3) inset;
  }
</style>

</head>
<body>

<ul class="w3-navbar w3-padding-4 w3-black">
  <li><a href="#"><i class="fa fa-lg fa-home"></i></a></li>
  <li class="w3-dropdown-hover">
    <a href="#">{{projectName}} <i class="fa fa-caret-down"></i></a>
    <div class="w3-dropdown-content w3-black w3-card-4">
      <input class="w3-input w3-padding" type="text" placeholder="Search..">
      <a href="/{{projectName}}">全部文件</a>
      <hr>
      <a href="/{{projectName}}/{{file.name}}" v-for="file of recentFiles">{{file.name}}</a>  <!-- 最近文件、其他文件 -->
    </div>
  </li>
  <li class="w3-right w3-dropdown-hover">
    <a class="" href="#">{{username}}<span class="w3-text-purple" style="width:2em;display:inline-block;text-align:center;">{{notifyCount}}</span> <i class="fa fa-lg fa-bars"></i></a>
    <div class="w3-dropdown-content w3-black w3-card-2 w3-text-right-align" style="right:0px;width:100px;">
      <a href="/user"><i class="fa fa-fw fa-user"></i> 个人</a>
      <a href="/setting"><i class="fa fa-fw fa-cog"></i> 设置</a>
      <a href="/statics"><i class="fa fa-fw fa-bar-chart"></i> 统计</a>
      <a href="/about"><i class="fa fa-fw fa-info-circle"></i> 关于</a>
      <hr>
      <a href="/logout"><i class="fa fa-fw fa-sign-out"></i> 注销</a>
    </div>
  </li>
</ul>

<div class="w3-progress-container w3-tooltip w3-pink" style="height: 9px;">
  <div class="w3-progressbar w3-green" v-bind:style="{width:transPercent+'%'}"></div>
  <div class="w3-progressbar w3-lime" v-bind:style="{width:lockPercent+'%'}"></div>
  <div class="w3-text" style="position:absolute;top:9px;left:50%;transform:translate(-50%,0%);">
    <div class="tip-arrow"></div>
    <div class="w3-padding w3-round w3-black" style="margin-top: 5px;">
      <i class="fa fa-square fa-fw w3-text-green"></i> {{locksPercent}}% 已锁定<br>
      <i class="fa fa-square fa-fw w3-text-lime"></i> {{transPercent}}% 已翻译<br>
      <i class="fa fa-square fa-fw w3-text-pink"></i> {{untransPercent}}% 未翻译
    </div>
  </div>
</div>

<div class="w3-container w3-light-gray w3-small">
  filters  翻译状态的
</div>

<div class="w3-main">
<ul class="w3-ul w3-hoverable">
<li v-for="(index,line) in lines">
  <div class="w3-row translate-view" v-if="selectedLineIndex != index" v-on:click="selectedLineIndex = index">
    <div class="w3-half translate-original">
      <label class="translate-speeker" v-if="line.speeker">{{line.speeker}}</label>
      <div class="translate-text">{{line.text}}</div>
    </div>
    <div class="w3-half translate-translation">
      <label class="translate-speeker" v-if="line.speeker">{{line.speeker}}</label>
      <div class="translate-text">{{line.transText}}</div>
    </div>
  </div>
  <div class="translate-edit" v-else>
    <div class="w3-right-align translate-header" style="background: rgba(0,0,0,0.6);width: 100%;padding: 5px 20px;color: rgba(255,255,255,1);">
      <a href="#" style="font-variant-caps:small-caps;" v-on:click.prevent="selectedLineIndex = -1">Close</a>
    </div>
    <div class="w3-row-padding w3-tiny">
      <div class="w3-quarter">
        <div class="">
          <h6>Terminology</h6>
          <span class="w3-tag w3-pale-yellow w3-hover-yellow" v-for="term in terms" title="{{term.description}}"><strong>term.text</strong> {{term.transText}}</span>
          <span class="w3-tag w3-pale-yellow w3-hover-yellow">+</span>
        </div>
        <div class="">
          <h6>Comments</h6>
          <p v-if="! line.isEditComment">{{line.comment ? line.comment : 'No comment.'}} <a href="#" style="font-variant-caps: small-caps;">EDIT</a></p>
          <div class="w3-right-align" v-else>
            <textarea class="w3-input">{{line.comment ? line.comment : 'No comment.'}}</textarea>
            <a href="#" style="font-variant-caps: small-caps;">SAVE</a>
          </div>
        </div>
      </div>
      <div class="w3-threequarter">
        <div class="w3-row">
          <div class="w3-twothird translate-original">
            <label class="translate-speeker" v-if="line.speeker">{{line.speeker}}</label>
            <p class="translate-text">{{line.text}} <a href="#"><i class="fa fa-volume-down"></i></a></p>
          </div>
        </div>
        <div class="w3-row">
          <div class="w3-twothird translate-translation">
            <label class="translate-speeker" v-if="line.speeker">{{line.speeker}}</label>
            <div style="width:100%;">
              <textarea class="w3-input w3-border translate-text" v-model.trim="line.transText"></textarea>
              <div class="w3-row" style="margin-top:3px;">
                <div class="w3-quarter" style="">
                  <button class="w3-transparent w3-user-toggle" style="color:rgb(11, 134, 150)
;" v-on:click="toggleHistory(line, $event)"><i class="fa fa-history"></i></button>
                  <button class="w3-transparent" style="color:rgb(11, 134, 150)
;" v-on:click="toggleClone(line, $event)"><i class="fa fa-clone"></i></button>
                  <button class="w3-transparent" style="color:rgb(11, 134, 150)
;" v-on:click="toggleTranslation(line, $event)"><i class="fa fa-language"></i></button>
                </div>
                <div class="w3-half w3-center">
                  <button class="w3-tag" v-on:click="line.transText+='「'">「</button>
                  <button class="w3-tag" v-on:click="line.transText+='」'">」</button>
                  <button class="w3-tag" v-on:click="line.transText+='『'">『</button>
                  <button class="w3-tag" v-on:click="line.transText+='』'">』</button>
                  <button class="w3-tag" v-on:click="line.transText+='――'">―</button>
                  <button class="w3-tag" v-on:click="line.transText+='……'">…</button>
                </div>
                <div class="w3-quarter w3-right-align w3-text-gray">
                  <small>line.modifidTime_text</small>
                </div>
              </div>
              <div class="w3-row line-help-history">
                <h6>时间线</h6>
                <button class="w3-tag w3-btn-block " style="" v-for="line in timeLines">asfasdsfa</button>
              </div>
              <div class="w3-row line-help-translation">
                <h6>翻译帮助</h6>
              </div>
            </div>
          </div>
          <div class="w3-third"><button class="w3-btn" style="font-variant-caps: small-caps;">SUGGEST</button></div>
        </div>
      </div>
    </div>
  </div>
</li>
</ul>
</div>

<script src="/assets/js/vue.min.js"></script>
<script src="/assets/3rd/page.js/page.js"></script>
<script src="/assets/js/util.js"></script>
<script src="/assets/js/main.js"></script>

</body>
</html>